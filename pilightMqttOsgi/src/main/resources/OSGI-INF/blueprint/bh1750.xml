<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="
             http://www.osgi.org/xmlns/blueprint/v1.0.0 https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
             http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd">

    <camelContext xmlns="http://camel.apache.org/schema/blueprint" id="bme280">


        <route id="Init" autoStartup="true" startupOrder="1">
            <from uri="timer:inittimer?repeatCount=1"/>
            <bean ref="pigpioBme280" method="open()"/>
        </route>
    </camelContext>

    <!-- <bean id="pigpioBme280" class="uk.pigpioj.PigpioSocket"> </bean> -->
    <bean id="pigpioBH1750" class="nl.vandenzen.iot.beans.BH1750FVIDriver"
          factory-method="getInstance">
        <argument value="1"/> <!-- i2c bus number -->
        <argument value="0x76"/> <!-- i2c address of bme280 sensor -->
    </bean>
    <bean id="quartzBme280" class="org.apache.camel.component.quartz.QuartzComponent">
        <property name="startDelayedSeconds" value="5"/>
    </bean>


</blueprint>
