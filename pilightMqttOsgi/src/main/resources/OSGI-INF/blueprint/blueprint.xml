<?xml version="1.0" encoding="UTF-8"?>
<!--

TEST (IN git branch rpi2-test-20201101

autoonenabled wordt in principe hier bijgehouden en niet in Openhab.
camel v 3.5.0 oct 2020

-->
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="
             http://www.osgi.org/xmlns/blueprint/v1.0.0 https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
             http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd">

    <camelContext xmlns="http://camel.apache.org/schema/blueprint" id="blueprintcontext">
        <route id="HelloWorldFromBlueprint" autoStartup="true" startupOrder="6">
            <from uri="timer:simple?period=5000&amp;repeatCount=3"/>
            <setBody>
                <constant>Hello World from blueprint (THIS IS A TEST CAMELCONTEXT, ALL ROUTES HAVE BEEN REMOVED!)</constant>
            </setBody>
            <to uri="log:nl.vandenzen.pilightmqttosgi?level=INFO"/>
        </route>
        <route id="testExecAanroep" autoStartup="true" startupOrder="100">
            <from uri="quartz"
        </route>

    </camelContext>
    <!-- bean id="autoOnEnabled" class="java.util.concurrent.atomic.AtomicReference"/ -->
    <bean id="AutoOnEnabled" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <bean id="AutoOffEnabled" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <bean id="pir_gf_achterdeur17" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <bean id="LightsOnIntensityThreshold" class="nl.vandenzen.pilightmqttosgi.util.MutableFloat">
        <property name="value" value="8"/>
    </bean>
    <bean id="LightsEnableIntensityThreshold" class="nl.vandenzen.pilightmqttosgi.util.MutableInteger">
        <property name="value" value="31"/>
    </bean>
    <bean id="LichtIntensiteit_Woonkamer" class="nl.vandenzen.pilightmqttosgi.util.MutableFloat">
        <property name="value" value="50"/>
    </bean>
    <bean id="Light_GF_Huiskamer_Achterdeur_Schemerlamp_Dimm" class="nl.vandenzen.pilightmqttosgi.util.MutableInteger"/>
    <bean id="Light_GF_Huiskamer_Achter_Staandelamp" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <bean id="GF_Passenger_minutes" class="nl.vandenzen.pilightmqttosgi.util.MutableLong">
        <property name="value" value="1"/>
    </bean>


    <bean id="bg_w_tv_w" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <bean id="bg_x_imac2" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <bean id="bg_x_imac3" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <!-- only after some time the state of tv and imac is stable -->
    <bean id="Stable" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <!-- only after some time the state of hue is stable, polling time is 10 seconds! -->
    <bean id="HueStable" class="nl.vandenzen.pilightmqttosgi.util.MutableBoolean"/>
    <bean id="DelayHuiskamerAchterdeurSchemerlamp" class="nl.vandenzen.pilightmqttosgi.beans.ExtendableDelay">
        <!-- The uri to call when delay has finished -->
        <argument value="direct:achterlichtuit2020"/>
    </bean>
    <bean id="DelaySetStableTrue" class="nl.vandenzen.pilightmqttosgi.beans.ExtendableDelay">
        <argument value="direct:set_stable_true"/>
    </bean>
    <bean id="DelaySetHueStableTrue" class="nl.vandenzen.pilightmqttosgi.beans.ExtendableDelay">
        <argument value="direct:set_HueStable_true"/>
    </bean>
    <!-- For memory size reporting -->
    <bean id="Runtime" class="java.lang.Runtime"
          factory-method="getRuntime"/>


</blueprint>
