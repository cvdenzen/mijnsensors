<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <camelContext xmlns="http://camel.apache.org/schema/blueprint" id="blueprintcontext">
        <route id="HelloWorldFromBlueprint" autoStartup="false">
            <from uri="timer:simple?period=5000&amp;repeatCount=3"/>
            <setBody>
                <simple>Hello World from blueprint (Camel UPSPIco)</simple>
            </setBody>
            <to uri="log:nl.vandenzen.pilightmqttosgi?level=INFO"/>
        </route>

        <route id="picoUPSSquareWave" autoStartup="true">
            <from uri="timer:picoUPS?period=250"/>
            <to uri="bean:UPSPIco?method=toggleGpio27"/>
        </route>

    </camelContext>

    <bean id="UPSPIco" class="nl.vandenzen.pilightmqttosgi.UPSPIco"
          init-method="init" destroy-method="destroy"/>
    <!-- Start class -->
    <bean id="pirSensor" class="nl.vandenzen.pilightmqttosgi.PirSensor" activation="eager"/>
</blueprint>