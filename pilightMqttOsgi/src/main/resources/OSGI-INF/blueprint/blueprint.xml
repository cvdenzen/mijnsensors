<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <camelContext xmlns="http://camel.apache.org/schema/blueprint" id="simple">
        <route id="HelloWorldFromBlueprint" autoStartup="false">
            <from uri="timer:simple?period=5000"/>
            <setBody>
                <simple>Hello World from blueprint (Camel)</simple>
            </setBody>
            <to uri="stream:out"/>
        </route>

        <route id="picoUPSSquareWave" autoStartup="true">
            <from uri="timer:picoUPS?period=250"/>
            <to uri="bean:UPSPIco?method=toggleGpio27"/>
        </route>

    </camelContext>

    <bean id="UPSPIco" class="nl.vandenzen.pilightmqttosgi.UPSPIco"/>
</blueprint>